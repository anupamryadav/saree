Parse.initialize("BtUb3tIMS0QgBhhuUlC5dcoU6bbDjHJBnIrx2sJr","BeIw56xBQw4ENNnrEFyqbMMkOselNeOEOVcSz5i6");var mainApp=angular.module("mainApp",["ngRoute","infinite-scroll","ui.bootstrap","ui-rangeSlider"]);mainApp.config(["$routeProvider",function(t){t.when("/",{templateUrl:"deal.html",controller:"MainCtrldeal",resolve:{test:function(t){t.current.params.test="Womens_Ethnic_Wear"}}}).when("/Mens_Clothing",{templateUrl:"Common.html",controller:"MainCtrl",resolve:{test:function(t){t.current.params.test="Mens_Clothing"}}}).when("/men_Footware",{templateUrl:"Common.html",controller:"MainCtrl",resolve:{test:function(t){t.current.params.test="Mens_Footwear"}}}).when("/Sunglasses",{templateUrl:"Common.html",controller:"MainCtrl",resolve:{test:function(t){t.current.params.test="Eyewear"}}}).when("/watches",{templateUrl:"Common.html",controller:"MainCtrl",resolve:{test:function(t){t.current.params.test="Watches"}}}).when("/Jewellery",{templateUrl:"Common.html",controller:"MainCtrl",resolve:{test:function(t){t.current.params.test="Jewellery"}}}).when("/Furniture",{templateUrl:"Common.html",controller:"MainCtrl",resolve:{test:function(t){t.current.params.test="Furniture"}}}).when("/Office_Equipment",{templateUrl:"Common.html",controller:"MainCtr",resolve:{test:function(t){t.current.params.test="Office_Equipment"}}}).when("/Bags_Luggage",{templateUrl:"Common.html",controller:"MainCtrl",resolve:{test:function(t){t.current.params.test="Bags_Luggage"}}}).when("/Mobiles_Tablets",{templateUrl:"Common.html",controller:"MainCtrl",resolve:{test:function(t){t.current.params.test="Mobiles_Tablets"}}}).when("/Kids_Footwear",{templateUrl:"Common.html",controller:"MainCtrl",resolve:{test:function(t){t.current.params.test="Kids_Footwear"}}}).when("/about",{templateUrl:"about.html",controller:"MainCtrl",resolve:{test:function(t){t.current.params.test="Eyewear"}}}).when("/contact",{templateUrl:"contact.html",controller:"MainCtrl",resolve:{test:function(t){t.current.params.test="Eyewear"}}}).when("/Computers_Peripherals",{templateUrl:"Common.html",controller:"MainCtrl",resolve:{test:function(t){t.current.params.test="Computers_Peripherals"}}}).when("/Womens_Ethnic_Wear",{templateUrl:"Common.html",controller:"MainCtrl",resolve:{test:function(t){t.current.params.test="Womens_Ethnic_Wear"}}}).when("/Womens_Footwear",{templateUrl:"Common.html",controller:"MainCtrl",resolve:{test:function(t){t.current.params.test="Womens_Footwear"}}}).when("/Womens_Clothing",{templateUrl:"Common.html",controller:"MainCtrl",resolve:{test:function(t){t.current.params.test="Womens_Clothing"}}}).when("/Beauty_Personal_Care",{templateUrl:"Common.html",controller:"MainCtrl",resolve:{test:function(t){t.current.params.test="Beauty_Personal_Care"}}}).when("/Fragrances",{templateUrl:"Common.html",controller:"MainCtrl",resolve:{test:function(t){t.current.params.test="Fragrances"}}}).when("/Appliances",{templateUrl:"Common.html",controller:"MainCtrl",resolve:{test:function(t){t.current.params.test="Appliances"}}}).when("/Kitchenware",{templateUrl:"Common.html",controller:"MainCtrl",resolve:{test:function(t){t.current.params.test="Kitchenware"}}}).when("/kid",{templateUrl:"fk.html",controller:"MainCtrlfkg",resolve:{test:function(t){t.current.params.test="kids_clothing"}}}).when("/Toys",{templateUrl:"fk.html",controller:"MainCtrlfkg",resolve:{test:function(t){t.current.params.test="toys"}}}).otherwise({redirectTo:"/"})}]),function(){"use strict";var t=1===angular.version.major&&0===angular.version.minor;angular.module("ui-rangeSlider",[]).directive("rangeSlider",["$document","$filter","$log",function(e,n,r){var a=".rangeSlider",o={disabled:!1,orientation:"horizontal",step:0,decimalPlaces:0,showValues:!0,preventEqualMinMax:!1,attachHandleValues:!1},i=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup",over:"pointerdown",out:"mouseout"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp",over:"MSPointerDown",out:"mouseout"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend",over:"mouseover touchstart",out:"mouseout"},s=i.start+a,l=i.move+a,u=i.end+a,c=i.over+a,d=i.out+a,f=function(t){try{return[t.clientX||t.originalEvent.clientX||t.originalEvent.touches[0].clientX,t.clientY||t.originalEvent.clientY||t.originalEvent.touches[0].clientY]}catch(e){return["x","y"]}},m=function(t){return 0>t?0:t>100?100:t},g=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},p={disabled:"=?",min:"=",max:"=",modelMin:"=?",modelMax:"=?",onHandleDown:"&",onHandleUp:"&",orientation:"@",step:"@",decimalPlaces:"@",filter:"@",filterOptions:"@",showValues:"@",pinHandle:"@",preventEqualMinMax:"@",attachHandleValues:"@",getterSetter:"@"};return t&&(p.disabled="=",p.modelMin="=",p.modelMax="="),{restrict:"A",replace:!0,template:['<div class="ngrs-range-slider">','<div class="ngrs-runner">','<div class="ngrs-handle ngrs-handle-min"><i></i></div>','<div class="ngrs-handle ngrs-handle-max"><i></i></div>','<div class="ngrs-join"></div>',"</div>",'<div class="ngrs-value-runner">','<div class="ngrs-value ngrs-value-min" ng-show="showValues"><div>{{filteredModelMin}}</div></div>','<div class="ngrs-value ngrs-value-max" ng-show="showValues"><div>{{filteredModelMax}}</div></div>',"</div>","</div>"].join(""),scope:p,link:function(t,i,p,h){function v(e){return t.getterSetter?arguments.length?t.modelMin(e):t.modelMin():arguments.length?t.modelMin=e:t.modelMin}function C(e){return t.getterSetter?arguments.length?t.modelMax(e):t.modelMax():arguments.length?t.modelMax=e:t.modelMax}function y(t){"min"===t?(angular.element(P[0]).css("display","none"),angular.element(P[1]).css("display","block")):"max"===t?(angular.element(P[0]).css("display","block"),angular.element(P[1]).css("display","none")):(angular.element(P[0]).css("display","block"),angular.element(P[1]).css("display","block"))}function w(t){t?I.addClass("ngrs-disabled"):I.removeClass("ngrs-disabled")}function b(){t.min>t.max&&x("min must be less than or equal to max"),angular.isDefined(t.min)&&angular.isDefined(t.max)&&(g(t.min)||x("min must be a number"),g(t.max)||x("max must be a number"),B=t.max-t.min,O=[t.min,t.max],M())}function M(){if(v()>C()&&($("modelMin must be less than or equal to modelMax"),v(C())),(angular.isDefined(v())||"min"===t.pinHandle)&&(angular.isDefined(C())||"max"===t.pinHandle)){g(v())||("min"!==t.pinHandle&&$("modelMin must be a number"),v(t.min)),g(C())||("max"!==t.pinHandle&&$("modelMax must be a number"),C(t.max));var e,r,a=m((v()-t.min)/B*100),o=m((C()-t.min)/B*100);if(t.attachHandleValues&&(e=a,r=o),v(Math.max(t.min,v())),C(Math.min(t.max,C())),t.filter&&t.filterOptions)t.filteredModelMin=n(t.filter)(v(),t.filterOptions),t.filteredModelMax=n(t.filter)(C(),t.filterOptions);else if(t.filter){var i,s,l=t.filter.split(":"),u=t.filter.split(":")[0],c=l.slice().slice(1);c=c.map(function(t){return g(t)?+t:'"'==t[0]&&'"'==t[t.length-1]||"'"==t[0]&&"'"==t[t.length-1]?t.slice(1,-1):void 0}),i=c.slice(),s=c.slice(),i.unshift(v()),s.unshift(C()),t.filteredModelMin=n(u).apply(null,i),t.filteredModelMax=n(u).apply(null,s)}else t.filteredModelMin=v(),t.filteredModelMax=C();t.min===t.max&&v()==C()?(angular.element(P[0]).css(E,"0%"),angular.element(P[1]).css(E,"100%"),t.attachHandleValues&&(angular.element(S[0]).css(E,"0%"),angular.element(S[1]).css(E,"100%")),angular.element(_).css(E,"0%").css(q,"0%")):(angular.element(P[0]).css(E,a+"%"),angular.element(P[1]).css(E,o+"%"),t.attachHandleValues&&(angular.element(S[0]).css(E,e+"%"),angular.element(S[1]).css(E,r+"%"),angular.element(S[1]).css(q,"auto")),angular.element(_).css(E,a+"%").css(q,100-o+"%"),a>95&&angular.element(P[0]).css("z-index",3))}}function U(n){var r=P[n];r.bind(s+"X",function(o){var i=(0===n?"ngrs-handle-min":"ngrs-handle-max")+"-down",s=(0===n?v():C())-t.min,c=s/B*100,d=f(o),g=d,p=!1;angular.isFunction(t.onHandleDown)&&t.onHandleDown(),angular.element("body").bind("selectstart"+a,function(){return!1}),t.disabled||(D=!0,r.addClass("ngrs-down"),I.addClass("ngrs-focus "+i),angular.element("body").addClass("ngrs-touching"),e.bind(l,function(e){e.preventDefault();var a,o,i=f(e),s=t.step/B*100,l=((0===n?C():v())-t.min)/B*100;"x"!==i[0]&&(i[0]-=d[0],i[1]-=d[1],a=[g[0]!==i[0],g[1]!==i[1]],o=c+100*i[k]/(k?I.height():I.width()),o=m(o),t.preventEqualMinMax&&(0===s&&(s=1/B*100),0===n?l-=s:1===n&&(l+=s)),0===n?o=o>l?l:o:1===n&&(o=l>o?l:o),t.step>0&&100>o&&o>0&&(o=Math.round(o/s)*s),o>95&&0===n?r.css("z-index",3):r.css("z-index",""),a[k]&&o!=p&&(0===n?v(parseFloat(parseFloat(o*B/100+t.min).toFixed(t.decimalPlaces))):1===n&&C(parseFloat(parseFloat(o*B/100+t.min).toFixed(t.decimalPlaces))),t.$apply(),p=o),g=i)}).bind(u,function(){angular.isFunction(t.onHandleUp)&&t.onHandleUp(),e.off(l),e.off(u),angular.element("body").removeClass("ngrs-touching"),D=!1,r.removeClass("ngrs-down"),r.removeClass("ngrs-over"),I.removeClass("ngrs-focus "+i)}))}).on(c,function(){r.addClass("ngrs-over")}).on(d,function(){D||r.removeClass("ngrs-over")})}function x(e){throw t.disabled=!0,new Error("RangeSlider: "+e)}function $(t){r.warn(t)}var I=angular.element(i),P=[i.find(".ngrs-handle-min"),i.find(".ngrs-handle-max")],S=[i.find(".ngrs-value-min"),i.find(".ngrs-value-max")],_=i.find(".ngrs-join"),E="left",q="right",k=0,O=[0,0],B=0,D=!1;t.filteredModelMin=v(),t.filteredModelMax=C(),p.$observe("disabled",function(e){angular.isDefined(e)||(t.disabled=o.disabled),t.$watch("disabled",w)}),p.$observe("orientation",function(e){angular.isDefined(e)||(t.orientation=o.orientation);for(var n,r=t.orientation.split(" "),a=0,i=r.length;i>a;a++)r[a]="ngrs-"+r[a];n=r.join(" "),I.addClass(n),("vertical"===t.orientation||"vertical left"===t.orientation||"vertical right"===t.orientation)&&(E="top",q="bottom",k=1)}),p.$observe("step",function(e){angular.isDefined(e)||(t.step=o.step)}),p.$observe("decimalPlaces",function(e){angular.isDefined(e)||(t.decimalPlaces=o.decimalPlaces)}),p.$observe("showValues",function(e){angular.isDefined(e)?"false"===e?t.showValues=!1:t.showValues=!0:t.showValues=o.showValues}),p.$observe("pinHandle",function(e){angular.isDefined(e)&&("min"===e||"max"===e)?t.pinHandle=e:t.pinHandle=null,t.$watch("pinHandle",y)}),p.$observe("preventEqualMinMax",function(e){angular.isDefined(e)?"false"===e?t.preventEqualMinMax=!1:t.preventEqualMinMax=!0:t.preventEqualMinMax=o.preventEqualMinMax}),p.$observe("attachHandleValues",function(e){angular.isDefined(e)?"true"===e||""===e?(t.attachHandleValues=!0,i.find(".ngrs-value-runner").addClass("ngrs-attached-handles")):t.attachHandleValues=!1:t.attachHandleValues=o.attachHandleValues}),t.$watch("min",b),t.$watch("max",b),t.$watch(function(){return v()},M),t.$watch(function(){return C()},M),t.$on("$destroy",function(){I.off(a),angular.element("body").off(a),e.off(a);for(var t=0,n=P.length;n>t;t++)P[t].off(a),P[t].off(a+"X")}),I.bind("selectstart"+a,function(t){return!1}).bind("click",function(t){t.stopPropagation()}),U(0),U(1)}}}]),window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}()}(),mainApp.controller("MainCtrl",function(t,e,n,r){function a(t){for(var e in t)if(t[e])return!1;return!0}t.loading=!0;n.test;t.totalDisplayed=6,t.users=[],t.filter=[],t.filter1=[],t.filter2=[],t.data=[];t.demo1={min:20,max:80},t.cart=[],t.addToCart=function(e){var n=!1;t.cart.forEach(function(t){t.id===e.id&&(t.quantity++,n=!0)}),n||t.cart.push(angular.extend({quantity:1},e))},t.viewProduct=function(e){var n=!1;t.cart.forEach(function(t){t.id===e.id&&(t.quantity++,n=!0)}),n||(t.cart=[],t.cart.push(angular.extend({quantity:1},e))),r.open({templateUrl:"checkout.html",controller:"CheckoutCtrl",size:"lg",resolve:{totalAmount:t.getCartPrice,getImage:t.getImage}})},t.getCartPrice=function(){var e=0;return t.cart.forEach(function(t){e+=t.mrp*t.quantity}),e},t.getImage=function(){var e=[];return t.cart.forEach(function(t){e.push(t)}),e},t.checkout=function(){r.open({templateUrl:"checkout.html",controller:"CheckoutCtrl",size:"lg",resolve:{totalAmount:t.getCartPrice,getImage:t.getImage}})},Parse.Cloud.run("hello",{methodname:n.test},{success:function(e){t.data=e.data.products,t.loading=!1,t.$apply()},error:function(e){console.log("Oops! Couldn't POST from Cloud Code successfully..  :"+e),t.loading=!1}}),t.getCategories=function(){return(t.data||[]).map(function(t){return t.subCategoryName}).filter(function(t,e,n){return n.indexOf(t)===e})},t.getbrand=function(){return(t.data||[]).map(function(t){return t.brand}).filter(function(t,e,n){return n.indexOf(t)===e})},t.getmrp=function(){return(t.data||[]).map(function(t){return t.mrp}).filter(function(t,e,n){return n.indexOf(t)===e})},t.getMoreData=function(){t.totalDisplayed+=3},t.filterByCategory=function(e){return t.filter[e.subCategoryName]||a(t.filter)},t.filterBybrand=function(e){return t.filter1[e.brand]||a(t.filter1)},t.getmrp=function(e){return t.filter2[e.mrp]||a(t.filter2)}}).run(["$rootScope",function(t){t.scenario="Sign up",t.currentUser=Parse.User.current(),t.signUp=function(e){var n=new Parse.User;n.set("email",e.email),n.set("username",e.username),n.set("password",e.password),n.signUp(null,{success:function(e){t.currentUser=e,t.$apply()},error:function(t,e){alert("Unable to sign up:  "+e.code+" "+e.message)}})},t.logIn=function(e){Parse.User.logIn(e.username,e.password,{success:function(e){t.currentUser=e,t.$apply()},error:function(t,e){alert("Unable to log in: "+e.code+" "+e.message)}})},t.logOut=function(e){Parse.User.logOut(),t.currentUser=null}}]),mainApp.controller("cart",function(t){}),mainApp.controller("CheckoutCtrl",function(t,e,n,r){t.totalAmount=e,t.counter=0,t.count=1,t.checkout=function(){r.open({templateUrl:"cart.html",controller:"cart",size:"lg"})},t.cart=[],t.detailProduct=[],t.removeToCart=function(e){t.count--,t.cart.forEach(function(n){n.id===e.id&&(n.quantity--,t.count=n.quantity,found=!0)})},t.checkout=function(){r.open({templateUrl:"cart.html",size:"lg"})},t.ContinueShopping=function(){},t.addToCart=function(e){console.log(t.cart);var n=!1;t.cart.forEach(function(r){r.id===e.id&&(r.quantity++,t.count=r.quantity,n=!0)}),n||t.cart.push(angular.extend({quantity:1},e))},t.getCartPrice=function(){var e=0;return t.cart.forEach(function(t){e+=t.effectivePrice*t.quantity}),e},t.remove=function(e){var n=t.cart.indexOf(e);t.cart.splice(n,1)},t.detailProduct=n,t.onSubmit=function(){t.processing=!0},t.stripeCallback=function(e,n){t.processing=!1,t.hideAlerts(),n.error?t.stripeError=n.error.message:t.stripeToken=n.id},t.hideAlerts=function(){t.stripeError=null,t.stripeToken=null}}),mainApp.controller("MainCtrldeal",function(t,e,n){function r(t){for(var e in t)if(t[e])return!1;return!0}t.loading=!0;var a=n.test;t.totalDisplayed=6,t.users=[];t.data=[],t.productBaseInfo=[],t.filter={};var o=a;Parse.Cloud.run("hellofk",{methodname:o},{success:function(e){setTimeout(function(){null!=e.data.dotdList&&(t.data=e.data.dotdList,t.$apply())},500),t.loading=!1},error:function(e){console.log("Oops! Couldn't POST from Cloud Code successfully..  :"+e),t.loading=!1}}),t.getCategories=function(){return(t.data||[]).map(function(t){return t.productBrand}).filter(function(t,e,n){return n.indexOf(t)===e})},t.getMoreData=function(){t.totalDisplayed+=3},t.filterByCategory=function(e){return t.filter[e.productBrand]||r(t.filter)}}).run(["$rootScope",function(t){t.scenario="Sign up",t.currentUser=Parse.User.current(),t.signUp=function(e){var n=new Parse.User;n.set("email",e.email),n.set("username",e.username),n.set("password",e.password),n.signUp(null,{success:function(e){t.currentUser=e,t.$apply()},error:function(t,e){alert("Unable to sign up:  "+e.code+" "+e.message)}})},t.logIn=function(e){Parse.User.logIn(e.username,e.password,{success:function(e){t.currentUser=e,t.$apply()},error:function(t,e){alert("Unable to log in: "+e.code+" "+e.message)}})},t.logOut=function(e){Parse.User.logOut(),t.currentUser=null}}]),mainApp.controller("DetailCtrl",function(t,e,n){t.totalAmount=e,t.getImage=n,t.onSubmit=function(){t.processing=!0},t.stripeCallback=function(e,n){t.processing=!1,t.hideAlerts(),n.error?t.stripeError=n.error.message:t.stripeToken=n.id},t.hideAlerts=function(){t.stripeError=null,t.stripeToken=null}}),mainApp.controller("MainCtrlfk",function(t,e,n){function r(t){for(var e in t)if(t[e])return!1;return!0}t.loading=!0;var a=n.test;t.totalDisplayed=6,t.users=[];t.data=[],t.productBaseInfo=[],t.filter={};var o=a;Parse.Cloud.run("hellofk",{methodname:o},{success:function(e){setTimeout(function(){if(null!=e.data.productInfoList)for(var n=e.data.productInfoList.length-1;n>=0;n--)t.productBaseInfo.push(e.data.productInfoList[n].productBaseInfo);if(null!=t.productBaseInfo){for(var n=t.productBaseInfo.length-1;n>=0;n--)t.data.push(t.productBaseInfo[n].productAttributes);t.$apply(),console.log(t.data),t.loading=!1}},1e3),t.loading=!1},error:function(e){console.log("Oops! Couldn't POST from Cloud Code successfully..  :"+e),t.loading=!1}}),t.getCategories=function(){return(t.data||[]).map(function(t){return t.productBrand}).filter(function(t,e,n){return n.indexOf(t)===e})},t.getMoreData=function(){t.totalDisplayed+=3},t.filterByCategory=function(e){return t.filter[e.productBrand]||r(t.filter)}}).run(["$rootScope",function(t){t.scenario="Sign up",t.currentUser=Parse.User.current(),t.signUp=function(e){var n=new Parse.User;n.set("email",e.email),n.set("username",e.username),n.set("password",e.password),n.signUp(null,{success:function(e){t.currentUser=e,t.$apply()},error:function(t,e){alert("Unable to sign up:  "+e.code+" "+e.message)}})},t.logIn=function(e){Parse.User.logIn(e.username,e.password,{success:function(e){t.currentUser=e,t.$apply()},error:function(t,e){alert("Unable to log in: "+e.code+" "+e.message)}})},t.logOut=function(e){Parse.User.logOut(),t.currentUser=null}}]),mainApp.controller("MainCtrlfkg",function(t,e,n){function r(t){for(var e in t)if(t[e])return!1;return!0}t.loading=!0;var a=n.test;t.totalDisplayed=6,t.users=[];t.data=[],t.productBaseInfo=[],t.filter={};var o=a;Parse.Cloud.run("hellog",{methodname:o},{success:function(e){console.log(e),setTimeout(function(){if(null!=e.data.productInfoList)for(var n=e.data.productInfoList.length-1;n>=0;n--)t.productBaseInfo.push(e.data.productInfoList[n].productBaseInfoV1);if(null!=t.productBaseInfo){for(var n=t.productBaseInfo.length-1;n>=0;n--)t.data.push(t.productBaseInfo[n]);t.$apply(),console.log(t.data),t.loading=!1}},1e3),t.loading=!1},error:function(e){console.log("Oops! Couldn't POST from Cloud Code successfully..  :"+e),t.loading=!1}}),t.getCategories=function(){return(t.data||[]).map(function(t){return t.productBrand}).filter(function(t,e,n){return n.indexOf(t)===e})},t.getMoreData=function(){t.totalDisplayed+=3},t.filterByCategory=function(e){return t.filter[e.productBrand]||r(t.filter)}}).run(["$rootScope",function(t){t.scenario="Sign up",t.currentUser=Parse.User.current(),t.signUp=function(e){var n=new Parse.User;n.set("email",e.email),n.set("username",e.username),n.set("password",e.password),n.signUp(null,{success:function(e){t.currentUser=e,t.$apply()},error:function(t,e){alert("Unable to sign up:  "+e.code+" "+e.message)}})},t.logIn=function(e){Parse.User.logIn(e.username,e.password,{success:function(e){t.currentUser=e,t.$apply()},error:function(t,e){alert("Unable to log in: "+e.code+" "+e.message)}})},t.logOut=function(e){Parse.User.logOut(),t.currentUser=null}}]),angular.module("ngCart",["ngCart.directives"]).config([function(){}]).provider("$ngCart",function(){this.$get=function(){}}).run(["$rootScope","ngCart","ngCartItem","store",function(t,e,n,r){t.$on("ngCart:change",function(){e.$save()}),angular.isObject(r.get("cart"))?e.$restore(r.get("cart")):e.init()}]).service("ngCart",["$rootScope","$window","ngCartItem","store",function(t,e,n,r){this.init=function(){this.$cart={shipping:null,taxRate:null,tax:null,items:[]}},this.addItem=function(e,r,a,o,i){var s=this.getItemById(e);if("object"==typeof s)s.setQuantity(o,!1),t.$broadcast("ngCart:itemUpdated",s);else{var l=new n(e,r,a,o,i);this.$cart.items.push(l),t.$broadcast("ngCart:itemAdded",l)}t.$broadcast("ngCart:change",{})},this.getItemById=function(t){var e=this.getCart().items,n=!1;return angular.forEach(e,function(e){e.getId()===t&&(n=e)}),n},this.setShipping=function(t){return this.$cart.shipping=t,this.getShipping()},this.getShipping=function(){return 0==this.getCart().items.length?0:this.getCart().shipping},this.setTaxRate=function(t){return this.$cart.taxRate=+parseFloat(t).toFixed(2),this.getTaxRate()},this.getTaxRate=function(){return this.$cart.taxRate},this.getTax=function(){return+parseFloat(this.getSubTotal()/100*this.getCart().taxRate).toFixed(2)},this.setCart=function(t){return this.$cart=t,this.getCart()},this.getCart=function(){return this.$cart},this.getItems=function(){return this.getCart().items},this.getTotalItems=function(){var t=0,e=this.getItems();return angular.forEach(e,function(e){t+=e.getQuantity()}),t},this.getTotalUniqueItems=function(){return this.getCart().items.length},this.getSubTotal=function(){var t=0;return angular.forEach(this.getCart().items,function(e){t+=e.getTotal()}),+parseFloat(t).toFixed(2)},this.totalCost=function(){return+parseFloat(this.getSubTotal()+this.getShipping()+this.getTax()).toFixed(2)},this.removeItem=function(e){var n=this.$cart.items.splice(e,1)[0]||{};t.$broadcast("ngCart:itemRemoved",n),t.$broadcast("ngCart:change",{})},this.removeItemById=function(e){var n,r=this.getCart();angular.forEach(r.items,function(t,n){t.getId()===e&&(t=r.items.splice(n,1)[0]||{})}),this.setCart(r),t.$broadcast("ngCart:itemRemoved",n),t.$broadcast("ngCart:change",{})},this.empty=function(){t.$broadcast("ngCart:change",{}),this.$cart.items=[],e.localStorage.removeItem("cart")},this.isEmpty=function(){return this.$cart.items.length>0?!1:!0},this.toObject=function(){if(0===this.getItems().length)return!1;var t=[];return angular.forEach(this.getItems(),function(e){t.push(e.toObject())}),{shipping:this.getShipping(),tax:this.getTax(),taxRate:this.getTaxRate(),subTotal:this.getSubTotal(),totalCost:this.totalCost(),items:t}},this.$restore=function(t){var e=this;e.init(),e.$cart.shipping=t.shipping,e.$cart.tax=t.tax,angular.forEach(t.items,function(t){e.$cart.items.push(new n(t._id,t._name,t._price,t._quantity,t._data))}),this.$save()},this.$save=function(){return r.set("cart",JSON.stringify(this.getCart()))}}]).factory("ngCartItem",["$rootScope","$log",function(t,e){var n=function(t,e,n,r,a){this.setId(t),this.setName(e),this.setPrice(n),this.setQuantity(r),this.setData(a)};return n.prototype.setId=function(t){t?this._id=t:e.error("An ID must be provided")},n.prototype.getId=function(){return this._id},n.prototype.setName=function(t){t?this._name=t:e.error("A name must be provided")},n.prototype.getName=function(){return this._name},n.prototype.setPrice=function(t){var n=parseFloat(t);n?0>=n?e.error("A price must be over 0"):this._price=n:e.error("A price must be provided")},n.prototype.getPrice=function(){return this._price},n.prototype.setQuantity=function(t,n){var r=parseInt(t);r%1===0?(n===!0?this._quantity+=r:this._quantity=r,this._quantity<1&&(this._quantity=1)):(this._quantity=1,e.info("Quantity must be an integer and was defaulted to 1"))},n.prototype.getQuantity=function(){return this._quantity},n.prototype.setData=function(t){t&&(this._data=t)},n.prototype.getData=function(){return this._data?this._data:void e.info("This item has no data")},n.prototype.getTotal=function(){return+parseFloat(this.getQuantity()*this.getPrice()).toFixed(2)},n.prototype.toObject=function(){return{id:this.getId(),name:this.getName(),price:this.getPrice(),quantity:this.getQuantity(),data:this.getData(),total:this.getTotal()}},n}]).service("store",["$window",function(t){return{get:function(e){if(t.localStorage.getItem(e)){var n=angular.fromJson(t.localStorage.getItem(e));return JSON.parse(n)}return!1},set:function(e,n){return void 0===n?t.localStorage.removeItem(e):t.localStorage.setItem(e,angular.toJson(n)),t.localStorage.getItem(e)}}}]).controller("CartController",["$scope","ngCart",function(t,e){t.ngCart=e}]).value("version","1.0.0"),angular.module("ngCart.directives",["ngCart.fulfilment"]).controller("CartController",["$scope","ngCart",function(t,e){t.ngCart=e}]).directive("ngcartAddtocart",["ngCart",function(t){return{restrict:"E",controller:"CartController",scope:{id:"@",name:"@",quantity:"@",quantityMax:"@",price:"@",data:"="},transclude:!0,templateUrl:function(t,e){return"undefined"==typeof e.templateUrl?"template/ngCart/addtocart.html":e.templateUrl},link:function(e,n,r){e.attrs=r,e.inCart=function(){return t.getItemById(r.id)},e.inCart()?e.q=t.getItemById(r.id).getQuantity():e.q=parseInt(e.quantity),e.qtyOpt=[];for(var a=1;a<=e.quantityMax;a++)e.qtyOpt.push(a)}}}]).directive("ngcartCart",[function(){return{restrict:"E",controller:"CartController",scope:{},templateUrl:function(t,e){return"undefined"==typeof e.templateUrl?"template/ngCart/cart.html":e.templateUrl},link:function(t,e,n){}}}]).directive("ngcartSummary",[function(){return{restrict:"E",controller:"CartController",scope:{},transclude:!0,templateUrl:function(t,e){return"undefined"==typeof e.templateUrl?"template/ngCart/summary.html":e.templateUrl}}}]).directive("ngcartCheckout",[function(){return{restrict:"E",controller:["$rootScope","$scope","ngCart","fulfilmentProvider",function(t,e,n,r){e.ngCart=n,e.checkout=function(){r.setService(e.service),r.setSettings(e.settings),r.checkout().success(function(e,n,r,a){t.$broadcast("ngCart:checkout_succeeded",e)}).error(function(e,n,r,a){t.$broadcast("ngCart:checkout_failed",{statusCode:n,error:e})})}}],scope:{service:"@",settings:"="},transclude:!0,templateUrl:function(t,e){return"undefined"==typeof e.templateUrl?"template/ngCart/checkout.html":e.templateUrl}}}]),angular.module("ngCart.fulfilment",[]).service("fulfilmentProvider",["$injector",function(t){this._obj={service:void 0,settings:void 0},this.setService=function(t){this._obj.service=t},this.setSettings=function(t){this._obj.settings=t},this.checkout=function(){var e=t.get("ngCart.fulfilment."+this._obj.service);return e.checkout(this._obj.settings)}}]).service("ngCart.fulfilment.log",["$q","$log","ngCart",function(t,e,n){this.checkout=function(){var r=t.defer();return e.info(n.toObject()),r.resolve({cart:n.toObject()}),r.promise}}]).service("ngCart.fulfilment.http",["$http","ngCart",function(t,e){this.checkout=function(n){return t.post(n.url,{data:e.toObject(),options:n.options})}}]).service("ngCart.fulfilment.paypal",["$http","ngCart",function(t,e){}]),mainApp.directive("loading",function(){return{restrict:"E",replace:!0,template:'<div class="loading"><img src="images/loading.gif" width="100" height="80" /></div>',link:function(t,e,n){t.$watch("loading",function(t){t?$(e).show():$(e).hide()})}}});