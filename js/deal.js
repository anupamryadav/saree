mainApp.controller("MainCtrldeal",function(e,n,r){function t(e){for(var n in e)if(e[n])return!1;return!0}e.loading=!0;var o=r.test;e.totalDisplayed=6,e.users=[];e.data=[],e.productBaseInfo=[],e.filter={};var s=o;Parse.Cloud.run("hellofk",{methodname:s},{success:function(n){setTimeout(function(){null!=n.data.dotdList&&(e.data=n.data.dotdList,e.$apply())},500),e.loading=!1},error:function(n){console.log("Oops! Couldn't POST from Cloud Code successfully..  :"+n),e.loading=!1}}),e.getCategories=function(){return(e.data||[]).map(function(e){return e.productBrand}).filter(function(e,n,r){return r.indexOf(e)===n})},e.getMoreData=function(){e.totalDisplayed+=3},e.filterByCategory=function(n){return e.filter[n.productBrand]||t(e.filter)}}).run(["$rootScope",function(e){e.scenario="Sign up",e.currentUser=Parse.User.current(),e.signUp=function(n){var r=new Parse.User;r.set("email",n.email),r.set("username",n.username),r.set("password",n.password),r.signUp(null,{success:function(n){e.currentUser=n,e.$apply()},error:function(e,n){alert("Unable to sign up:  "+n.code+" "+n.message)}})},e.logIn=function(n){Parse.User.logIn(n.username,n.password,{success:function(n){e.currentUser=n,e.$apply()},error:function(e,n){alert("Unable to log in: "+n.code+" "+n.message)}})},e.logOut=function(n){Parse.User.logOut(),e.currentUser=null}}]);